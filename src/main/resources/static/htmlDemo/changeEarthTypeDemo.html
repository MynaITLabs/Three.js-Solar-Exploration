<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Change Earth Type Demo</title>

    <style>

        html, body, canvas {
            height: 100%;
            width: 100%;
        }

        body {
            margin: 0;
            overflow: hidden;
        }

    </style>

</head>
<body>

<canvas id = "sceneArea"></canvas>

<script src="../js/lib/three.min.js"></script>
<script src="../js/utils/universeUtils.js"></script>
<script src="../js/utils/utils.js"></script>
<script src="../jsDemo/reGlobePrototype.js"></script>
<script src="../jsDemo/combinePrototype.js"></script>

<script>

    var renderer = SolarEPUtils.getDefaultRenderer();

    var earthScene = new EarthSceneController(renderer);

    loadData();

    function loadData() {

        xhr = new XMLHttpRequest();
        xhr.open( 'GET', '../data/rank.json', true );
        xhr.onreadystatechange = function() {

            if ( xhr.readyState === 4 && xhr.status === 200 ){

                var data = JSON.parse( xhr.responseText );

                var globe = new DAT.Globe( renderer );
                globe.setSurfaceImg("../images/world.jpg");
                globe.init();
                globe.addData(data, {format: 'magnitude'});
                globe.createPoints();

                earthScene.animate();

                setTimeout(globe.animate, 5000);
                setTimeout(earthScene.animate, 10000);
            }
        };

        xhr.send( null );
    }

</script>

</body>
</html>